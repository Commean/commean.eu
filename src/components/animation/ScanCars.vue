<template>
  <svg
    width="25.656mm"
    height="13.191mm"
    version="1.1"
    viewBox="0 0 25.656 13.191"
    xmlns="http://www.w3.org/2000/svg"
    xmlns:xlink="http://www.w3.org/1999/xlink"
  >
    <defs>
      <linearGradient id="linearGradient1595-0">
        <stop stop-color="#fff" offset="0" />
        <stop stop-color="#fff" stop-opacity="0" offset="1" />
      </linearGradient>
      <linearGradient
        id="linearGradient1597"
        x1="27.053"
        x2="33.496"
        y1="10.123"
        y2="10.123"
        gradientTransform="matrix(.62898 0 0 .5978 21.887 7.6566)"
        gradientUnits="userSpaceOnUse"
        xlink:href="#linearGradient1595-0"
      />
      <linearGradient
        id="linearGradient2153"
        x1="67.842"
        x2="65.8"
        y1="10.123"
        y2="10.123"
        gradientTransform="matrix(.62899 0 0 .5978 21.887 7.6566)"
        gradientUnits="userSpaceOnUse"
        xlink:href="#linearGradient1595-0"
      />
      <linearGradient
        id="linearGradient7064"
        x1="55.181"
        x2="55.181"
        y1="-.40272"
        y2="3.2199"
        gradientTransform="matrix(.62899 0 0 .5978 21.887 7.6566)"
        gradientUnits="userSpaceOnUse"
      >
        <stop stop-color="#fff" offset="0" />
        <stop stop-color="#fff" stop-opacity="0" offset="1" />
      </linearGradient>
    </defs>
    <g transform="translate(-79.657 -50.433)">
      <g id="my_car_01">
        <g class="color_dark">
          <path
            d="m63.227 58.815h-2.2008l-1.1004 1.3205v0.66024h0.44016a0.66024 0.66024 0 0 0 0.66024 0.66024 0.66024 0.66024 0 0 0 0.66024-0.66024h1.3205a0.66024 0.66024 0 0 0 0.66024 0.66024 0.66024 0.66024 0 0 0 0.66024-0.66024h0.44016v-0.66024c0-0.24429-0.19587-0.44016-0.44016-0.44016h-0.44016l-0.66024-0.88033m-2.0908 0.33012h0.88033v0.5502h-1.3205l0.44016-0.5502m1.2104 0h0.77029l0.43136 0.5502h-1.2016v-0.5502m-1.3205 1.3205a0.33012 0.33012 0 0 1 0.33012 0.33012 0.33012 0.33012 0 0 1-0.33012 0.33012 0.33012 0.33012 0 0 1-0.33012-0.33012 0.33012 0.33012 0 0 1 0.33012-0.33012m2.641 0a0.33012 0.33012 0 0 1 0.33012 0.33012 0.33012 0.33012 0 0 1-0.33012 0.33012 0.33012 0.33012 0 0 1-0.33012-0.33012 0.33012 0.33012 0 0 1 0.33012-0.33012z"
            stroke-width=".22008"
          />
        </g>
        <g id="my_car_01_border">
          <rect
            x="59.24"
            y="57.835"
            width="6.1623"
            height="4.3032"
            fill="none"
            stroke="#ff0909"
            stroke-dasharray="1, 1"
            stroke-linecap="round"
            stroke-width=".25"
          />
        </g>
      </g>
      <g id="my_truck_01">
        <g class="color_dark">
          <path
            d="m63.648 61.099a0.35658 0.35658 0 0 1-0.35658-0.35658 0.35658 0.35658 0 0 1 0.35658-0.35658 0.35658 0.35658 0 0 1 0.35658 0.35658 0.35658 0.35658 0 0 1-0.35658 0.35658m0.35658-2.1395 0.46593 0.5943h-1.0602v-0.5943m-2.6149 2.1395a0.35658 0.35658 0 0 1-0.35658-0.35658 0.35658 0.35658 0 0 1 0.35658-0.35658 0.35658 0.35658 0 0 1 0.35658 0.35658 0.35658 0.35658 0 0 1-0.35658 0.35658m3.3281-2.4961h-0.71316v-0.95089h-3.3281c-0.26387 0-0.47544 0.21157-0.47544 0.47544v2.6149h0.47544a0.71316 0.71316 0 0 0 0.71316 0.71316 0.71316 0.71316 0 0 0 0.71316-0.71316h1.4263a0.71316 0.71316 0 0 0 0.71316 0.71316 0.71316 0.71316 0 0 0 0.71316-0.71316h0.47544v-1.1886z"
            stroke-width=".23772"
          />
        </g>
        <g id="my_truck_01_border">
          <rect
            x="59.091"
            y="56.69"
            width="6.1623"
            height="5.4477"
            fill="none"
            stroke="#ff0909"
            stroke-dasharray="1, 1"
            stroke-linecap="round"
            stroke-width=".25"
          />
        </g>
      </g>
    </g>
    <g class="color_dark" transform="translate(-11.615 -7.4159)">
      <path
        d="m35.446 9.4163c-0.0292-0.0023-0.05993 0.0046-0.08835 0.01997l-0.66456 0.38414c-0.07375 0.04302-0.09834 0.13829-0.05609 0.21051l0.11524 0.19898c0.04226 0.07452 0.13598 0.09911 0.20974 0.05685l0.13829-0.0799c0.02074 0.03534 0.05147 0.06377 0.08912 0.0799v0.58512h0.15366v-0.58512c0.06991-0.03073 0.11524-0.09987 0.11524-0.1744 0-0.03534-0.0092-0.06838-0.02612-0.09757l0.19437-0.11217c0.07452-0.04303 0.09988-0.13598 0.05685-0.21051l-0.11524-0.19898c-0.02612-0.0461-0.07299-0.07222-0.12216-0.07683m-0.91655 0.63229-0.32421 0.05378 0.05762 0.09988 0.15365 0.26582 0.05762 0.09987 0.20897-0.25353z"
        stroke-width=".076827"
      />
      <path
        d="m35.491 11.38a0.19473 0.19473 0 0 1-0.19473-0.19472c0-0.10807 0.08763-0.19473 0.19473-0.19473 0.10807 0 0.19473 0.08665 0.19473 0.19473a0.19473 0.19473 0 0 1-0.19473 0.19472m0 0.48682a0.19473 0.19473 0 0 1-0.19473-0.19473c0-0.10807 0.08763-0.19473 0.19473-0.19473 0.10807 0 0.19473 0.08665 0.19473 0.19473a0.19473 0.19473 0 0 1-0.19473 0.19473m0 0.48681a0.19473 0.19473 0 0 1-0.19473-0.19472c0-0.10807 0.08763-0.19473 0.19473-0.19473 0.10807 0 0.19473 0.08665 0.19473 0.19473a0.19473 0.19473 0 0 1-0.19473 0.19472m0.7789-0.87627h-0.29209v-0.11099c0.16746-0.04381 0.29209-0.19473 0.29209-0.37582h-0.29209v-0.09736a0.097363 0.097363 0 0 0-0.09736-0.09736h-0.7789a0.097363 0.097363 0 0 0-0.09736 0.09736v0.09736h-0.29209c0 0.1811 0.12462 0.33201 0.29209 0.37582v0.11099h-0.29209c0 0.1811 0.12462 0.33201 0.29209 0.37582v0.11099h-0.29209c0 0.1811 0.12462 0.33201 0.29209 0.37582v0.11099a0.097363 0.097363 0 0 0 0.09736 0.09736h0.7789a0.097363 0.097363 0 0 0 0.09736-0.09736v-0.11099c0.16746-0.04381 0.29209-0.19473 0.29209-0.37582h-0.29209v-0.11099c0.16746-0.04381 0.29209-0.19473 0.29209-0.37582z"
        stroke-width=".097363"
      />
      <rect
        x="35.345"
        y="12.475"
        width=".25432"
        height="5.9663"
        fill-opacity=".99985"
      />
    </g>
    <g transform="translate(-38.903 -7.4159)">
      <path
        d="m58.804 18.607h-16.901l19.626-8.4428 0.19409 0.33591z"
        fill="#00eae0"
        fill-opacity=".30745"
      />
      <rect
        class="color_bright"
        x="38.903"
        y="7.4159"
        width="25.656"
        height="12.584"
        fill="url(#linearGradient2153)"
      />
      <rect
        class="color_bright"
        x="38.903"
        y="7.4159"
        width="25.656"
        height="12.584"
        fill="url(#linearGradient1597)"
      />
      <rect
        class="color_bright"
        x="38.903"
        y="7.4159"
        width="25.656"
        height="12.584"
        fill="url(#linearGradient7064)"
      />
    </g>
  </svg>
</template>

<script>
import anime from "animejs/lib/anime.es.js";

let VEHICLE_X_START = 0;
let VEHICLE_X_END = 50;
let BORDER_Y_START = -30;
let BORDER_Y_END = 0;

let WAIT_BEGIN = 1500;

export default {
  mounted() {
    // Reset animation (needed after switching page)
    anime({
      targets: "#my_car_01",
      translateX: VEHICLE_X_START,
      duration: 0,
    });

    anime({
      targets: "#my_car_01_border",
      translateY: BORDER_Y_START,
      duration: 0,
    });

    anime({
      targets: "#my_truck_01",
      translateX: VEHICLE_X_START,
      duration: 0,
    });

    anime({
      targets: "#my_truck_01_border",
      translateY: BORDER_Y_START,
      duration: 0,
    });

    setTimeout(function () {
      anime({
        targets: "#my_car_01",
        translateX: [VEHICLE_X_START, VEHICLE_X_END],
        duration: 2500,
        endDelay: 600,
        easing: "easeOutQuad",
        loop: true,
      });

      anime({
        targets: "#my_car_01_border",
        translateY: [
          { value: BORDER_Y_START, duration: 0, delay: 400 },
          { value: BORDER_Y_END, duration: 600 },
          { value: BORDER_Y_END, duration: 2100 },
        ],
        easing: "linear",
        loop: true,
      });

      anime({
        targets: "#my_truck_01",
        translateX: [VEHICLE_X_START, VEHICLE_X_END],
        duration: 2500,
        delay: 600,
        easing: "easeOutQuad",
        loop: true,
      });

      anime({
        targets: "#my_truck_01_border",
        translateY: [
          { value: BORDER_Y_START, duration: 0, delay: 1000 },
          { value: BORDER_Y_END, duration: 600 },
          { value: BORDER_Y_END, duration: 1500 },
        ],
        easing: "linear",
        loop: true,
      });
    }, WAIT_BEGIN);
  },
};
</script>

<style lang="scss" scoped>
@namespace xlink "http://www.w3.org/1999/xlink";
svg {
  height: auto;
  width: 100%;
  z-index: -50;
  overflow: hidden;

  @media (prefers-color-scheme: dark) {
    .color_bright {
      filter: brightness(0) contrast(81%);
    }

    .color_dark {
      filter: invert(80%) brightness(100%) contrast(100%);
    }
  }
}
</style>
